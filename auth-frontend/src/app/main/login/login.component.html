<div class="form__container">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form__group">
      <label class="form__label" for="name">Name or email</label>
      <input
        class="form__input"
        type="text"
        [formControlName]="formControlName.name"
        id="name"
        autofocus
      />
      <div class="form__error-container">
        <div
          *ngIf="
            loginForm.controls[formControlName.name].invalid &&
            (loginForm.controls[formControlName.name].dirty ||
              loginForm.controls[formControlName.name].touched)
          "
          class="form__error"
        >
          <div
            *ngIf="loginForm.controls[formControlName.name].errors?.required"
          >
            Name is required.
          </div>
        </div>
      </div>
    </div>

    <div class="form__group">
      <label class="form__label" for="password">Password</label>
      <input
        class="form__input"
        type="text"
        [formControlName]="formControlName.password"
        type="password"
        id="password"
      />
      <div class="form__error-container">
        <div
          *ngIf="
            loginForm.controls[formControlName.password].invalid &&
            (loginForm.controls[formControlName.password].dirty ||
              loginForm.controls[formControlName.password].touched)
          "
          class="form__error"
        >
          <div
            *ngIf="
              loginForm.controls[formControlName.password].errors?.required
            "
          >
            Password is required.
          </div>
        </div>
      </div>
    </div>
    <div class="form__remember-me">
      <input
        class="checkbox"
        type="checkbox"
        id="remember-me"
        [formControlName]="formControlName.rememberMe"
      />
      <label class="checkbox__label" for="remember-me">Remember me</label>
    </div>

    <ng-container *ngIf="showResult$ | async">
      <ng-container
        *ngIf="validationMessage$ | async as message; else loading"
        >{{ message }}</ng-container
      >
      <ng-template #loading>loading</ng-template>
    </ng-container>
    <button class="button accent-button" type="submit">Login</button>
  </form>
</div>
